<!-- <app-sidebar></app-sidebar> -->
<app-header></app-header>

<section class="vendor-register" data-aos="fade-up">
  <h1 class="title">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢ (Vendor Register)</h1>
  <p class="subtitle">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô/‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>

  <form [formGroup]="form" (ngSubmit)="submit()" novalidate class="form-card">

    <!-- ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢ -->
    <div class="field-row">
      <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢ <span class="req">*</span></label>
      <div class="radio-group">
        <label><input type="radio" formControlName="sellerType" value="company"> ‡∏ô‡∏¥‡∏ï‡∏¥‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</label>
        <label><input type="radio" formControlName="sellerType" value="person"> ‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤</label>
      </div>
    </div>

    <div class="grid">
      <div class="field" *ngIf="form.get('sellerType')?.value === 'company'">
        <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó/‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô <span class="req">*</span></label>
        <input type="text" formControlName="companyName" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÇ‡∏°‡∏î ‡πÇ‡∏ã‡∏•‡∏π‡∏ä‡∏±‡∏ô‡∏™‡πå ‡∏à‡∏≥‡∏Å‡∏±‡∏î">
        <small class="err" *ngIf="form.get('companyName')?.touched && form.get('companyName')?.invalid">
          ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó/‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô
        </small>
      </div>

      <div class="field">
        <label>‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ (13 ‡∏´‡∏•‡∏±‡∏Å) <span class="req">*</span></label>
        <input type="text" formControlName="taxId" maxlength="13" placeholder="xxxxxxxxxxxxx"
          (input)="onNumericInput($event, 'taxId')">
        <div *ngIf="form.get('taxId')?.invalid && (form.get('taxId')?.touched || form.get('taxId')?.dirty)">
          <small class="err" *ngIf="form.get('taxId')?.hasError('required')">
            ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ
          </small>
          <small class="err" *ngIf="form.get('taxId')?.hasError('pattern')">
            ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
          </small>
          <small class="err" *ngIf="form.get('taxId')?.hasError('minlength')">
            ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 13 ‡∏´‡∏•‡∏±‡∏Å
          </small>
          <small class="err" *ngIf="form.get('taxId')?.hasError('invalidThaiId')">
            ‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
          </small>
        </div>
      </div>
    </div>

    <div class="grid">
      <div class="field">
        <label>‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ <span class="req">*</span></label>
        <input type="text" formControlName="contactName" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏• ‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠">
        <small class="err" *ngIf="form.get('contactName')?.touched && form.get('contactName')?.invalid">
          ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠
        </small>
      </div>

      <div class="field">
        <label>‡∏≠‡∏µ‡πÄ‡∏°‡∏• <span class="req">*</span></label>
        <input type="email" formControlName="email" placeholder="name@example.com">
        <small class="err" *ngIf="form.get('email')?.touched && form.get('email')?.invalid">
          ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
        </small>
      </div>

      <div class="field">
        <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå <span class="req">*</span></label>
        <input type="text" formControlName="phone" placeholder="0812345678" (input)="onNumericInput($event, 'phone')">
        <small class="err" *ngIf="form.get('phone')?.touched && form.get('phone')?.invalid">
          ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
        </small>
      </div>
    </div>

    <div class="field">
      <label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠/‡∏≠‡∏≠‡∏Å‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£) <span class="req">*</span></label>
      <input type="text" formControlName="addressLine" placeholder="‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà ‡∏ñ‡∏ô‡∏ô ‡∏ï‡∏£‡∏≠‡∏Å/‡∏ã‡∏≠‡∏¢ ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£">
      <small class="err" *ngIf="form.get('addressLine')?.touched && form.get('addressLine')?.invalid">
        ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
      </small>
    </div>

    <div class="grid">
      <div class="field">
        <label>‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</label>
        <select formControlName="province" (change)="onProvinceChange($event)">
          <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î --</option>
          <option *ngFor="let p of provinces" [value]="p.code">{{ p.title }}</option>
        </select>
      </div>

      <div class="field">
        <label>‡∏≠‡∏≥‡πÄ‡∏†‡∏≠/‡πÄ‡∏Ç‡∏ï</label>
        <select formControlName="district" (change)="onDistrictChange($event)">
          <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ --</option>
          <option *ngFor="let d of districts" [value]="d.code">{{ d.title }}</option>
        </select>
      </div>

      <div class="field">
        <label>‡∏ï‡∏≥‡∏ö‡∏•/‡πÅ‡∏Ç‡∏ß‡∏á</label>
        <select formControlName="subdistrict" (change)="onSubdistrictChange($event)">
          <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡∏ö‡∏• --</option>
          <option *ngFor="let s of subdistricts" [value]="s.code">{{ s.title }}</option>
        </select>
      </div>

      <div class="field">
        <label>‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå</label>
        <input type="text" formControlName="postalCode" maxlength="5" readonly />
      </div>
    </div>


    <div class="grid">
      <div class="field">
        <label>‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</label>
        <input type="text" formControlName="website" placeholder="https://example.com">
      </div>
      <div class="field">
        <label for="bankName">‡∏ä‡∏∑‡πà‡∏≠‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£ <span class="req">*</span></label>
        <select id="bankName" formControlName="bankName" required>
          <option value="" disabled>-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£ --</option>
          <option *ngFor="let bank of banks" [value]="bank.name">
            {{ bank.name }}
          </option>
        </select>
        <small class="err" *ngIf="form.get('bankName')?.invalid && form.get('bankName')?.touched">
          ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£
        </small>
      </div>
      <div class="field">
        <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ</label>
        <input type="text" formControlName="bankAccountName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ">
      </div>
      <div class="field">
        <label>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ç‡∏ä‡∏µ</label>
        <input type="text" formControlName="bankAccountNumber" placeholder="xxxxxxxxxx"
          (input)="onNumericInput($event, 'bankAccountNumber')">
      </div>
    </div>

    <hr>
    <h3>‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö</h3>
    <p class="form-description">
      ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå .pdf, .jpg, .png ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB)
    </p>

    <div class="field">
      <label for="companyAffidavitFile">
        @if (form.get('sellerType')?.value === 'company') {
        <span>
          1. ‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô) <span class="req">*</span>
        </span>
        }
        @if (form.get('sellerType')?.value === 'person') {
        <span>
          1. ‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô <span class="req">*</span>
        </span>
        }
      </label>

      <label class="file-upload">
        <input type="file" id="companyAffidavitFile" class="file-input" accept=".pdf,.jpg,.jpeg,.png"
          (change)="onFileSelect($event, 'companyAffidavitFile')">
        <span>{{fileName || 'üìÅ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå'}}</span>
      </label>

      <span class="file-name" *ngIf="form.get('companyAffidavitFile')?.value">
        {{ form.get('companyAffidavitFile')?.value.name }}
      </span>
      <small class="err"
        *ngIf="form.get('companyAffidavitFile')?.hasError('required') && form.get('companyAffidavitFile')?.touched">
        <span *ngIf="form.get('sellerType')?.value === 'company'">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏ô‡∏ö‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</span>
        <span *ngIf="form.get('sellerType')?.value === 'person'">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏ô‡∏ö‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</span>
      </small>
    </div>

    <div class="consent">
      <label>
        <input type="checkbox" id="consent-checkbox" formControlName="consent">
        ‡∏Ç‡πâ‡∏≤‡∏û‡πÄ‡∏à‡πâ‡∏≤‡∏¢‡∏¥‡∏ô‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó We-Lap ‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•
        ‡∏ï‡∏≤‡∏° <a href="#" target="_blank">‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß (Privacy
          Policy)</a>
      </label>
    </div>
    <div *ngIf="form.get('consent')?.invalid && form.get('consent')?.touched">
      <small class="err">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏ï‡∏Å‡∏•‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç</small>
    </div>
    <div class="btn-c">
      <button type="submit" class="submit-btn">
        ‡∏™‡πà‡∏á‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£
      </button>
    </div>
  </form>
</section>

@if (showSuccessPopup) {
<div class="popup-overlay">
  <div class="popup-card">
    <div class="popup-icon">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
      </svg>
    </div>
    <h2>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</h2>
    <p>‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß<br>‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÇ‡∏î‡∏¢‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</p>
    <div class="btn-c">
      <button class="popup-btn" type="button" (click)="closePopup()">‡∏ï‡∏Å‡∏•‡∏á</button>
    </div>
  </div>
</div>
}

@if (showErrorPopup) {
<div class="popup-overlay" >
  <div class="popup-card error-card">
    <div class="popup-icon error-icon">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </div>
    <h2>‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î</h2>
    <p>{{ popupErrorMessage }}</p>
    <div class="btn-c">
      <button class="popup-btn error-btn" type="button" (click)="closeErrorPopup()">‡∏õ‡∏¥‡∏î</button>
    </div>
  </div>
</div>
}

<app-footer></app-footer>
